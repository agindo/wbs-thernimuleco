"use strict";(self["webpackChunkwbs_2025"]=self["webpackChunkwbs_2025"]||[]).push([[924],{50:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});s(8111),s(1701);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-activity-page"},[e("div",{staticClass:"page-header bg-white shadow-sm border-b border-gray-200 mb-6"},[e("div",{staticClass:"px-6 py-4"},[e("div",{staticClass:"flex items-center justify-between"},[t._m(0),e("div",{staticClass:"flex items-center space-x-3"},[e("button",{staticClass:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",on:{click:t.exportActivity}},[e("Icon",{staticClass:"mr-2 h-4 w-4",attrs:{icon:"mdi:download"}}),t._v(" Export ")],1),e("button",{staticClass:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",on:{click:t.refreshActivity}},[e("Icon",{staticClass:"mr-2 h-4 w-4",attrs:{icon:"mdi:refresh"}}),t._v(" Refresh ")],1)])])])]),e("div",{staticClass:"px-6 mb-6"},[e("div",{staticClass:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},[e("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},[e("div",[e("label",{staticClass:"block text-sm font-medium text-gray-700 mb-1"},[t._v("User")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.userId,expression:"filters.userId"}],staticClass:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters,"userId",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Semua User")]),t._l(t.users,function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(" "+t._s(s.name)+" ")])})],2)]),e("div",[e("label",{staticClass:"block text-sm font-medium text-gray-700 mb-1"},[t._v("Aktivitas")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.action,expression:"filters.action"}],staticClass:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters,"action",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Semua Aktivitas")]),e("option",{attrs:{value:"login"}},[t._v("Login")]),e("option",{attrs:{value:"logout"}},[t._v("Logout")]),e("option",{attrs:{value:"create"}},[t._v("Create")]),e("option",{attrs:{value:"update"}},[t._v("Update")]),e("option",{attrs:{value:"delete"}},[t._v("Delete")]),e("option",{attrs:{value:"view"}},[t._v("View")])])]),e("div",[e("label",{staticClass:"block text-sm font-medium text-gray-700 mb-1"},[t._v("Tanggal Mulai")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.startDate,expression:"filters.startDate"}],staticClass:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",attrs:{type:"date"},domProps:{value:t.filters.startDate},on:{input:function(e){e.target.composing||t.$set(t.filters,"startDate",e.target.value)}}})]),e("div",[e("label",{staticClass:"block text-sm font-medium text-gray-700 mb-1"},[t._v("Tanggal Akhir")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.endDate,expression:"filters.endDate"}],staticClass:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",attrs:{type:"date"},domProps:{value:t.filters.endDate},on:{input:function(e){e.target.composing||t.$set(t.filters,"endDate",e.target.value)}}})]),e("div",{staticClass:"flex items-end"},[e("button",{staticClass:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",on:{click:t.applyFilters}},[e("Icon",{staticClass:"mr-2 h-4 w-4",attrs:{icon:"mdi:filter"}}),t._v(" Filter ")],1)])])])]),e("div",{staticClass:"px-6 mb-6"},[e("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},[e("div",{staticClass:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"flex-shrink-0"},[e("Icon",{staticClass:"h-8 w-8 text-green-500",attrs:{icon:"mdi:account-check"}})],1),e("div",{staticClass:"ml-4"},[e("p",{staticClass:"text-sm font-medium text-gray-500"},[t._v("User Aktif Hari Ini")]),e("p",{staticClass:"text-2xl font-semibold text-gray-900"},[t._v(t._s(t.stats.activeToday))])])])]),e("div",{staticClass:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"flex-shrink-0"},[e("Icon",{staticClass:"h-8 w-8 text-blue-500",attrs:{icon:"mdi:login"}})],1),e("div",{staticClass:"ml-4"},[e("p",{staticClass:"text-sm font-medium text-gray-500"},[t._v("Total Login")]),e("p",{staticClass:"text-2xl font-semibold text-gray-900"},[t._v(t._s(t.stats.totalLogins))])])])]),e("div",{staticClass:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"flex-shrink-0"},[e("Icon",{staticClass:"h-8 w-8 text-yellow-500",attrs:{icon:"mdi:clock"}})],1),e("div",{staticClass:"ml-4"},[e("p",{staticClass:"text-sm font-medium text-gray-500"},[t._v("Rata-rata Sesi")]),e("p",{staticClass:"text-2xl font-semibold text-gray-900"},[t._v(t._s(t.stats.avgSession))])])])]),e("div",{staticClass:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"flex-shrink-0"},[e("Icon",{staticClass:"h-8 w-8 text-purple-500",attrs:{icon:"mdi:chart-line"}})],1),e("div",{staticClass:"ml-4"},[e("p",{staticClass:"text-sm font-medium text-gray-500"},[t._v("Total Aktivitas")]),e("p",{staticClass:"text-2xl font-semibold text-gray-900"},[t._v(t._s(t.filteredActivities.length))])])])])])]),e("div",{staticClass:"px-6"},[e("div",{staticClass:"bg-white rounded-lg shadow-sm border border-gray-200"},[e("div",{staticClass:"px-4 py-3 border-b border-gray-200 bg-gray-50"},[e("div",{staticClass:"flex items-center justify-between"},[e("h3",{staticClass:"text-lg font-medium text-gray-900"},[t._v("Log Aktivitas")]),e("div",{staticClass:"flex items-center space-x-2"},[e("span",{staticClass:"text-sm text-gray-500"},[t._v(t._s(t.filteredActivities.length)+" aktivitas")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],staticClass:"border border-gray-300 rounded px-2 py-1 text-sm",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.pageSize=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:"10"}},[t._v("10")]),e("option",{attrs:{value:"25"}},[t._v("25")]),e("option",{attrs:{value:"50"}},[t._v("50")]),e("option",{attrs:{value:"100"}},[t._v("100")])])])])]),e("div",{staticClass:"overflow-x-auto"},[e("table",{staticClass:"min-w-full divide-y divide-gray-200"},[t._m(1),e("tbody",{staticClass:"bg-white divide-y divide-gray-200"},t._l(t.paginatedActivities,function(s){return e("tr",{key:s.id,staticClass:"hover:bg-gray-50"},[e("td",{staticClass:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},[e("div",[e("div",{staticClass:"font-medium"},[t._v(t._s(t.formatDate(s.timestamp)))]),e("div",{staticClass:"text-gray-500"},[t._v(t._s(t.formatTime(s.timestamp)))])])]),e("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"},[e("Icon",{staticClass:"h-4 w-4 text-gray-600",attrs:{icon:"mdi:account"}})],1),e("div",{staticClass:"ml-3"},[e("div",{staticClass:"text-sm font-medium text-gray-900"},[t._v(t._s(s.userName))]),e("div",{staticClass:"text-sm text-gray-500"},[t._v(t._s(s.userEmail))])])])]),e("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[e("div",{staticClass:"flex items-center"},[e("Icon",{staticClass:"h-5 w-5 mr-2",class:t.getActionColor(s.action),attrs:{icon:t.getActionIcon(s.action)}}),e("span",{staticClass:"text-sm text-gray-900"},[t._v(t._s(t.getActionLabel(s.action)))])],1)]),e("td",{staticClass:"px-6 py-4 text-sm text-gray-900"},[e("div",{staticClass:"max-w-xs truncate",attrs:{title:s.details}},[t._v(" "+t._s(s.details)+" ")])]),e("td",{staticClass:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},[t._v(" "+t._s(s.ipAddress)+" ")]),e("td",{staticClass:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},[e("div",{staticClass:"flex items-center"},[e("Icon",{staticClass:"h-4 w-4 mr-1 text-gray-500",attrs:{icon:t.getDeviceIcon(s.device)}}),t._v(" "+t._s(s.device)+" ")],1)]),e("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[e("span",{staticClass:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",class:t.getStatusBadgeClass(s.status)},[t._v(" "+t._s(s.status)+" ")])])])}),0)])]),e("div",{staticClass:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"flex-1 flex justify-between sm:hidden"},[e("button",{staticClass:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",attrs:{disabled:1===t.currentPage},on:{click:t.previousPage}},[t._v(" Previous ")]),e("button",{staticClass:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",attrs:{disabled:t.currentPage===t.totalPages},on:{click:t.nextPage}},[t._v(" Next ")])]),e("div",{staticClass:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},[e("div",[e("p",{staticClass:"text-sm text-gray-700"},[t._v(" Showing "),e("span",{staticClass:"font-medium"},[t._v(t._s(t.startIndex+1))]),t._v(" to "),e("span",{staticClass:"font-medium"},[t._v(t._s(Math.min(t.endIndex,t.filteredActivities.length)))]),t._v(" of "),e("span",{staticClass:"font-medium"},[t._v(t._s(t.filteredActivities.length))]),t._v(" results ")])]),e("div",[e("nav",{staticClass:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},[e("button",{staticClass:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",attrs:{disabled:1===t.currentPage},on:{click:t.previousPage}},[e("Icon",{staticClass:"h-5 w-5",attrs:{icon:"mdi:chevron-left"}})],1),t._l(t.visiblePages,function(s){return e("button",{key:s,staticClass:"relative inline-flex items-center px-4 py-2 border text-sm font-medium",class:s===t.currentPage?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",on:{click:function(e){return t.goToPage(s)}}},[t._v(" "+t._s(s)+" ")])}),e("button",{staticClass:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",attrs:{disabled:t.currentPage===t.totalPages},on:{click:t.nextPage}},[e("Icon",{staticClass:"h-5 w-5",attrs:{icon:"mdi:chevron-right"}})],1)],2)])])])])])])])},i=[function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"text-2xl font-bold text-gray-900"},[t._v("Aktivitas User")]),e("p",{staticClass:"mt-1 text-sm text-gray-600"},[t._v("Monitor dan audit aktivitas pengguna sistem")])])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"bg-gray-50"},[e("tr",[e("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t._v(" Waktu ")]),e("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t._v(" User ")]),e("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t._v(" Aktivitas ")]),e("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t._v(" Detail ")]),e("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t._v(" IP Address ")]),e("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t._v(" Device ")]),e("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t._v(" Status ")])])])}],r=(s(4114),s(2489),s(8298)),l={name:"UserActivity",components:{Icon:r.In},data(){return{currentPage:1,pageSize:25,filters:{userId:"",action:"",startDate:"",endDate:""},stats:{activeToday:12,totalLogins:156,avgSession:"24m"},users:[{id:1,name:"Ahmad Pratama",email:"ahmad@example.com"},{id:2,name:"Siti Nurhaliza",email:"siti@example.com"},{id:3,name:"Budi Santoso",email:"budi@example.com"},{id:4,name:"Dewi Sartika",email:"dewi@example.com"},{id:5,name:"Rudi Habibie",email:"rudi@example.com"}],activities:[{id:1,userId:1,userName:"Ahmad Pratama",userEmail:"ahmad@example.com",action:"login",details:"User berhasil login ke sistem",timestamp:new Date("2024-01-15T09:30:00"),ipAddress:"192.168.1.100",device:"Desktop",status:"Success"},{id:2,userId:2,userName:"Siti Nurhaliza",userEmail:"siti@example.com",action:"create",details:'Membuat laporan baru: "Laporan Bulanan Q1"',timestamp:new Date("2024-01-15T10:15:00"),ipAddress:"192.168.1.101",device:"Mobile",status:"Success"},{id:3,userId:3,userName:"Budi Santoso",userEmail:"budi@example.com",action:"update",details:"Memperbarui profil pengguna",timestamp:new Date("2024-01-15T11:00:00"),ipAddress:"192.168.1.102",device:"Tablet",status:"Success"},{id:4,userId:1,userName:"Ahmad Pratama",userEmail:"ahmad@example.com",action:"view",details:"Melihat dashboard analytics",timestamp:new Date("2024-01-15T11:30:00"),ipAddress:"192.168.1.100",device:"Desktop",status:"Success"},{id:5,userId:4,userName:"Dewi Sartika",userEmail:"dewi@example.com",action:"login",details:"Gagal login - password salah",timestamp:new Date("2024-01-15T12:00:00"),ipAddress:"192.168.1.103",device:"Mobile",status:"Failed"},{id:6,userId:2,userName:"Siti Nurhaliza",userEmail:"siti@example.com",action:"delete",details:"Menghapus laporan draft",timestamp:new Date("2024-01-15T13:15:00"),ipAddress:"192.168.1.101",device:"Desktop",status:"Success"},{id:7,userId:5,userName:"Rudi Habibie",userEmail:"rudi@example.com",action:"logout",details:"User logout dari sistem",timestamp:new Date("2024-01-15T14:00:00"),ipAddress:"192.168.1.104",device:"Desktop",status:"Success"}]}},computed:{filteredActivities(){let t=[...this.activities];if(this.filters.userId&&(t=t.filter(t=>t.userId==this.filters.userId)),this.filters.action&&(t=t.filter(t=>t.action===this.filters.action)),this.filters.startDate){const e=new Date(this.filters.startDate);t=t.filter(t=>t.timestamp>=e)}if(this.filters.endDate){const e=new Date(this.filters.endDate+"T23:59:59");t=t.filter(t=>t.timestamp<=e)}return t.sort((t,e)=>new Date(e.timestamp)-new Date(t.timestamp))},totalPages(){return Math.ceil(this.filteredActivities.length/this.pageSize)},startIndex(){return(this.currentPage-1)*this.pageSize},endIndex(){return this.startIndex+this.pageSize},paginatedActivities(){return this.filteredActivities.slice(this.startIndex,this.endIndex)},visiblePages(){const t=[],e=Math.max(1,this.currentPage-2),s=Math.min(this.totalPages,this.currentPage+2);for(let a=e;a<=s;a++)t.push(a);return t}},methods:{formatDate(t){return new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"short",day:"numeric"}).format(new Date(t))},formatTime(t){return new Intl.DateTimeFormat("id-ID",{hour:"2-digit",minute:"2-digit"}).format(new Date(t))},getActionIcon(t){const e={login:"mdi:login",logout:"mdi:logout",create:"mdi:plus-circle",update:"mdi:pencil-circle",delete:"mdi:delete-circle",view:"mdi:eye-circle"};return e[t]||"mdi:circle"},getActionColor(t){const e={login:"text-green-500",logout:"text-gray-500",create:"text-blue-500",update:"text-yellow-500",delete:"text-red-500",view:"text-purple-500"};return e[t]||"text-gray-500"},getActionLabel(t){const e={login:"Login",logout:"Logout",create:"Create",update:"Update",delete:"Delete",view:"View"};return e[t]||t},getDeviceIcon(t){const e={Desktop:"mdi:desktop-classic",Mobile:"mdi:cellphone",Tablet:"mdi:tablet"};return e[t]||"mdi:help-circle"},getStatusBadgeClass(t){return"Success"===t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"},applyFilters(){this.currentPage=1,this.$message.info("Filter berhasil diterapkan")},previousPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},goToPage(t){this.currentPage=t},refreshActivity(){this.$message.success("Data aktivitas berhasil diperbarui")},exportActivity(){this.$message.info("Export aktivitas sedang diproses...")}},watch:{pageSize(){this.currentPage=1}},mounted(){const t=new Date,e=new Date(t.getTime()-6048e5);this.filters.endDate=t.toISOString().split("T")[0],this.filters.startDate=e.toISOString().split("T")[0]}},n=l,o=s(1656),d=(0,o.A)(n,a,i,!1,null,"45a919cb",null),c=d.exports}}]);
//# sourceMappingURL=user-activity.ae5aee2e.js.map