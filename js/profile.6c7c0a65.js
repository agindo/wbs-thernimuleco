"use strict";(self["webpackChunkwbs_2025"]=self["webpackChunkwbs_2025"]||[]).push([[138],{1992:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"profile-page"},[t("div",{staticClass:"page-header bg-white shadow-sm border-b border-gray-200 mb-6"},[t("div",{staticClass:"px-6 py-4"},[t("div",{staticClass:"flex items-center justify-between"},[e._m(0),t("button",{staticClass:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",on:{click:function(t){e.editMode=!e.editMode}}},[t("Icon",{staticClass:"mr-2 h-4 w-4",attrs:{icon:e.editMode?"mdi:close":"mdi:pencil"}}),e._v(" "+e._s(e.editMode?"Batal":"Edit Profil")+" ")],1)])])]),t("div",{staticClass:"px-6 max-w-4xl"},[t("div",{staticClass:"grid grid-cols-1 lg:grid-cols-3 gap-6"},[t("div",{staticClass:"lg:col-span-1"},[t("div",{staticClass:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},[t("div",{staticClass:"text-center"},[t("div",{staticClass:"mx-auto w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4"},[t("span",{staticClass:"text-white font-bold text-4xl"},[e._v(e._s(e.userInitials))])]),t("h2",{staticClass:"text-xl font-bold text-gray-900 mb-2"},[e._v(e._s(e.fullName))]),t("p",{staticClass:"text-gray-600 mb-1"},[e._v(e._s(e.userProfile.email))]),t("p",{staticClass:"text-sm text-gray-500 mb-4"},[e._v("@"+e._s(e.userProfile.username))]),t("div",{staticClass:"flex justify-center mb-4"},[t("span",{staticClass:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",class:e.statusBadgeClass},[t("Icon",{staticClass:"mr-1 h-4 w-4",attrs:{icon:e.userProfile.isEnabled?"mdi:check-circle":"mdi:close-circle"}}),e._v(" "+e._s(e.userProfile.isEnabled?"Aktif":"Nonaktif")+" ")],1)]),t("div",{staticClass:"flex flex-wrap justify-center gap-2"},e._l(e.userProfile.roles,function(a){return t("span",{key:a,staticClass:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},[e._v(" "+e._s(e.getRoleLabel(a))+" ")])}),0)])])]),t("div",{staticClass:"lg:col-span-2"},[t("div",{staticClass:"bg-white rounded-lg shadow-sm border border-gray-200"},[t("div",{staticClass:"p-6"},[t("h3",{staticClass:"text-lg font-medium text-gray-900 mb-6"},[e._v("Informasi Profil")]),t("form",{staticClass:"space-y-6",on:{submit:function(t){return t.preventDefault(),e.saveProfile.apply(null,arguments)}}},[t("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 gap-6"},[t("div",[t("label",{staticClass:"block text-sm font-medium text-gray-700 mb-2"},[e._v("Nama Depan")]),t("el-input",{attrs:{disabled:!e.editMode,placeholder:"Nama depan",size:"large"},model:{value:e.profileForm.firstName,callback:function(t){e.$set(e.profileForm,"firstName",t)},expression:"profileForm.firstName"}})],1),t("div",[t("label",{staticClass:"block text-sm font-medium text-gray-700 mb-2"},[e._v("Nama Belakang")]),t("el-input",{attrs:{disabled:!e.editMode,placeholder:"Nama belakang",size:"large"},model:{value:e.profileForm.lastName,callback:function(t){e.$set(e.profileForm,"lastName",t)},expression:"profileForm.lastName"}})],1)]),t("div",[t("label",{staticClass:"block text-sm font-medium text-gray-700 mb-2"},[e._v("Username")]),t("el-input",{attrs:{disabled:"",placeholder:"Username",size:"large"},model:{value:e.profileForm.username,callback:function(t){e.$set(e.profileForm,"username",t)},expression:"profileForm.username"}},[t("template",{slot:"prepend"},[e._v("@")])],2),t("p",{staticClass:"mt-1 text-sm text-gray-500"},[e._v("Username tidak dapat diubah")])],1),t("div",[t("label",{staticClass:"block text-sm font-medium text-gray-700 mb-2"},[e._v("Email")]),t("el-input",{attrs:{disabled:!e.editMode,type:"email",placeholder:"Email",size:"large"},model:{value:e.profileForm.email,callback:function(t){e.$set(e.profileForm,"email",t)},expression:"profileForm.email"}})],1),t("div",{staticClass:"border-t border-gray-200 pt-6"},[t("h4",{staticClass:"text-md font-medium text-gray-900 mb-4"},[e._v("Informasi Akun")]),t("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 gap-6"},[t("div",[t("label",{staticClass:"block text-sm font-medium text-gray-700 mb-2"},[e._v("Tanggal Bergabung")]),t("el-input",{attrs:{value:e.formatDate(e.userProfile.createdAt),disabled:"",size:"large"}})],1),t("div",[t("label",{staticClass:"block text-sm font-medium text-gray-700 mb-2"},[e._v("Login Terakhir")]),t("el-input",{attrs:{value:e.formatDateTime(e.userProfile.lastLogin),disabled:"",size:"large"}})],1)])]),e.editMode?t("div",{staticClass:"flex justify-end pt-6 border-t border-gray-200"},[t("div",{staticClass:"flex space-x-3"},[t("el-button",{attrs:{size:"large"},on:{click:e.cancelEdit}},[e._v(" Batal ")]),t("el-button",{attrs:{type:"primary",loading:e.loading,"native-type":"submit",size:"large"}},[t("Icon",{staticClass:"mr-2 h-4 w-4",attrs:{icon:"mdi:content-save"}}),e._v(" "+e._s(e.loading?"Menyimpan...":"Simpan Perubahan")+" ")],1)],1)]):e._e()])])])])])])])},i=[function(){var e=this,t=e._self._c;return t("div",[t("h1",{staticClass:"text-2xl font-bold text-gray-900"},[e._v("Profil Pengguna")]),t("p",{staticClass:"mt-1 text-sm text-gray-600"},[e._v("Kelola informasi profil dan pengaturan akun Anda")])])}],r=a(8298),l=a(1910),o={name:"Profile",components:{Icon:r.In},data(){return{editMode:!1,profileForm:{firstName:"",lastName:"",username:"",email:""}}},computed:{...(0,l.L8)(["user"]),...(0,l.aH)(["loading"]),userProfile(){return this.user||{id:"",username:"",email:"",firstName:"",lastName:"",isEnabled:!0,roles:["USER"],createdAt:(new Date).toISOString(),lastLogin:(new Date).toISOString()}},fullName(){return`${this.userProfile.firstName} ${this.userProfile.lastName}`.trim()||"Nama Pengguna"},userInitials(){const e=this.userProfile.firstName||"",t=this.userProfile.lastName||"";return e&&t?(e.charAt(0)+t.charAt(0)).toUpperCase():e?e.substring(0,2).toUpperCase():this.userProfile.username?this.userProfile.username.substring(0,2).toUpperCase():"UN"},statusBadgeClass(){return this.userProfile.isEnabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}},methods:{...(0,l.i0)(["fetchUserProfile"]),getRoleLabel(e){const t={USER:"Pengguna",ADMIN:"Administrator",SUPER_ADMIN:"Super Admin",REPORTER:"Pelapor"};return t[e]||e},formatDate(e){return e?new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e)):"-"},formatDateTime(e){return e?new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e)):"-"},initializeForm(){this.profileForm={firstName:this.userProfile.firstName||"",lastName:this.userProfile.lastName||"",username:this.userProfile.username||"",email:this.userProfile.email||""}},cancelEdit(){this.editMode=!1,this.initializeForm()},async saveProfile(){try{this.$message.success("Profil berhasil diperbarui"),this.editMode=!1,await this.fetchUserProfile()}catch(e){console.error("Error updating profile:",e),this.$message.error("Gagal memperbarui profil")}},async loadProfile(){try{await this.fetchUserProfile(),this.initializeForm()}catch(e){console.error("Error loading profile:",e),this.$message.error("Gagal memuat data profil")}}},mounted(){this.loadProfile()},watch:{user:{handler(){this.initializeForm()},immediate:!0}}},n=o,m=a(1656),d=(0,m.A)(n,s,i,!1,null,"febaaeb2",null),c=d.exports}}]);
//# sourceMappingURL=profile.6c7c0a65.js.map