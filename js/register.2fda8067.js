"use strict";(self["webpackChunkwbs_2025"]=self["webpackChunkwbs_2025"]||[]).push([[224],{6572:function(a,e,t){t.r(e),t.d(e,{default:function(){return g}});var i=function(){var a=this,e=a._self._c;return e("div",{staticClass:"register-page"},[a._m(0),e("div",{staticClass:"register-container"},[e("div",{staticClass:"register-card"},[e("div",{staticClass:"register-header"},[e("div",{staticClass:"logo-container"},[e("Icon",{staticClass:"logo-icon",attrs:{icon:"mdi:account-plus"}})],1),e("h1",{staticClass:"register-title"},[a._v("Daftar WBS")]),a._m(1)]),e("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:a.registerForm,rules:a.registerRules},nativeOn:{submit:function(e){return e.preventDefault(),a.handleRegister.apply(null,arguments)}}},[e("el-form-item",{staticClass:"form-item",attrs:{prop:"email"}},[e("el-input",{staticClass:"form-input",attrs:{placeholder:"Masukkan email Anda","prefix-icon":"el-icon-message",size:"large"},model:{value:a.registerForm.email,callback:function(e){a.$set(a.registerForm,"email",e)},expression:"registerForm.email"}})],1),e("el-form-item",{staticClass:"submit-item"},[e("el-button",{staticClass:"register-button",attrs:{type:"primary",size:"large",loading:a.loading,"native-type":"submit"}},[e("div",{staticClass:"button-content"},[a.loading?a._e():e("Icon",{staticClass:"button-icon",attrs:{icon:"mdi:account-plus"}}),e("span",[a._v(a._s(a.loading?"Mendaftar...":"Daftar Sekarang"))])],1)])],1)],1),e("div",{staticClass:"register-footer"},[e("p",{staticClass:"login-text"},[a._v(" Sudah punya akun? "),e("el-link",{staticClass:"login-link",attrs:{type:"primary"},on:{click:a.goToLogin}},[a._v(" Masuk di sini ")])],1)])],1),e("div",{staticClass:"security-info"},[e("div",{staticClass:"security-item"},[e("Icon",{staticClass:"security-icon",attrs:{icon:"mdi:shield-lock"}}),a._m(2)],1),e("div",{staticClass:"security-item"},[e("Icon",{staticClass:"security-icon",attrs:{icon:"mdi:account-lock"}}),a._m(3)],1)])])])},s=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"register-background"},[e("div",{staticClass:"bg-gradient"}),e("div",{staticClass:"bg-pattern"})])},function(){var a=this,e=a._self._c;return e("p",{staticClass:"register-subtitle"},[a._v("Daftarkan email Anda untuk mengakses sistem pelaporan"),e("br"),e("small",{staticStyle:{color:"#9ca3af","font-size":"0.875rem"}},[a._v("*Nama akan di-generate otomatis dengan nama Indonesia")])])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"security-content"},[e("h4",[a._v("Data Terenkripsi")]),e("p",[a._v("Informasi Anda dilindungi dengan enkripsi tingkat militer")])])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"security-content"},[e("h4",[a._v("Verifikasi Ketat")]),e("p",[a._v("Sistem verifikasi berlapis untuk memastikan keamanan")])])}],r=(t(4114),t(8298)),n=t(1910),o={name:"RegisterView",components:{Icon:r.In},computed:{...(0,n.aH)(["loading","message","status"])},watch:{message(a){a&&(this.$message.error(a),this.$store.commit("set_message",null))}},data(){return{registerForm:{email:""},registerRules:{email:[{required:!0,message:"Email wajib diisi",trigger:"blur"},{type:"email",message:"Format email tidak valid",trigger:["blur","change"]}]}}},methods:{...(0,n.i0)(["request_verification"]),generateRandomFirstName(){const a=["Ahmad","Budi","Citra","Dewi","Eko","Fitri","Gita","Hadi","Indra","Joko","Kartika","Lestari","Maya","Nia","Oki","Putri","Qori","Rina","Sari","Tono","Umar","Vina","Wulan","Yani","Zahra","Agus","Bella","Cahyo","Dian","Elsa","Fajar","Gilang","Hana","Ivan","Julia","Kevin","Luna","Mira","Nova","Omar","Priska","Quinn","Reza","Sinta","Tara","Ulfa","Vera","Wisnu","Irman","Agus","Vicky","Agung","Bawono","Nofel","Rezky"];return a[Math.floor(Math.random()*a.length)]},generateRandomLastName(){const a=["Pratama","Sari","Putra","Dewi","Wijaya","Lestari","Santoso","Maharani","Kusuma","Anggraini","Setiawan","Rahayu","Permana","Safitri","Nugroho","Utami","Susanto","Wulandari","Hidayat","Sartika","Prasetyo","Handayani","Gunawan","Yuliani","Saputra","Fitriani","Kurniawan","Septiani","Wahyudi","Novita","Hakim","Melati","Rahman","Cahyani","Firmansyah","Pertiwi","Syahputra","Kusumawati","Maulana","Indrawati","Ramadhan","Nuraini","Firdaus","Puspita","Syamsul","Andriani","Mubarak","Kartini","Nurjaman","Budiantoro","Pahrul","Permana","Panji","Yayang"];return a[Math.floor(Math.random()*a.length)]},async handleRegister(){this.$refs.registerForm.validate(async a=>{if(a)try{const a=this.generateRandomFirstName(),e=this.generateRandomLastName(),t={email:this.registerForm.email,firstName:a,lastName:e},i=await this.request_verification(t);i.data&&(this.$message.success(`Pendaftaran berhasil! Email verifikasi telah dikirim ke ${this.registerForm.email}. Nama yang terdaftar: ${a} ${e}`),localStorage.setItem("pending_verification",JSON.stringify({email:this.registerForm.email,firstName:a,lastName:e,timestamp:(new Date).toISOString()})),setTimeout(()=>{this.$router.push("/verification")},2e3))}catch(e){if(console.error("Registration error:",e),e.response){const a=e.response.status,t=e.response.data?.error_description||e.response.data?.message||"Pendaftaran gagal";400===a?this.$message.error("Data pendaftaran tidak valid. Periksa format email Anda"):409===a?this.$message.error("Email sudah terdaftar. Silakan gunakan email lain atau login"):500===a?this.$message.error("Terjadi kesalahan server. Silakan coba lagi nanti"):this.$message.error(t)}else e.request?this.$message.error("Tidak dapat terhubung ke server. Periksa koneksi internet Anda"):this.$message.error("Terjadi kesalahan. Silakan coba lagi")}else this.$message.error("Silakan periksa form input Anda")})},async testRegistration(){if(this.registerForm.email)try{const a=this.generateRandomFirstName(),e=this.generateRandomLastName(),t={email:this.registerForm.email,firstName:a,lastName:e},i=await this.request_verification(t);i.data&&(this.$message.success(`Test pendaftaran berhasil! Email: ${this.registerForm.email}, Nama: ${a} ${e}`),console.log("Test registration successful:",{email:this.registerForm.email,firstName:a,lastName:e}),localStorage.setItem("pending_verification",JSON.stringify({email:this.registerForm.email,firstName:a,lastName:e,timestamp:(new Date).toISOString()})))}catch(a){console.error("Test registration error:",a);const e=a.response?.data?.error_description||a.response?.data?.message||a.message;this.$message.error("Test pendaftaran gagal: "+e)}else this.$message.warning("Masukkan email terlebih dahulu untuk test")},async testingRegistration(){const a=`testuser${Math.floor(1e4*Math.random())}@example.com`;this.loading=!0;try{const e=this.generateRandomFirstName(),t=this.generateRandomLastName(),i=await axios.post("http://localhost:8080/api/auth/request-verification",{email:a,firstName:e,lastName:t});i.data&&(this.$message.success(`Test pendaftaran berhasil! Email: ${a}, Nama: ${e} ${t}`),console.log("Test registration successful:",{testEmail:a,firstName:e,lastName:t}))}catch(e){console.error("Test registration error:",e),this.$message.error("Test pendaftaran gagal: "+(e.response?.data?.message||e.message))}finally{this.loading=!1}},goToLogin(){this.$router.push("/login")}}},l=o,m=t(1656),c=(0,m.A)(l,i,s,!1,null,"eef5c854",null),g=c.exports}}]);
//# sourceMappingURL=register.2fda8067.js.map