{"version":3,"file":"js/evidence.040426d3.js","mappings":"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","sources":["webpack://wbs-2025/./src/services/evidencesService.js","webpack://wbs-2025/./src/views/dashboard/Evidence.vue","webpack://wbs-2025/src/views/dashboard/Evidence.vue","webpack://wbs-2025/./src/views/dashboard/Evidence.vue?7280","webpack://wbs-2025/./src/views/dashboard/Evidence.vue?da4a"],"sourcesContent":["import axios from 'axios';\n\n// Base URL for API\n// const API_BASE_URL = 'http://localhost:8080/api';\nconst API_BASE_URL = \"https://wbsreborn.lan.go.id/sylow\";\n\n// Get token from storage\nconst getAuthToken = () => {\n  return localStorage.getItem('token') || sessionStorage.getItem('token');\n};\n\n// Default headers configuration\nconst getDefaultHeaders = () => {\n  const token = getAuthToken();\n  const headers = {\n    'Content-Type': 'multipart/form-data'\n  };\n  \n  // Add Authorization header only if token exists\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n  \n  return headers;\n};\n\nclass EvidencesService {\n  /**\n   * Upload evidence file for a report\n   * @param {File} file - The file to upload\n   * @param {string} description - Description of the evidence\n   * @param {string} reportId - ID of the report\n   * @returns {Promise} - API response\n   */\n  async uploadEvidence(file, description, reportId) {\n    try {\n      // Check if token exists\n      const token = getAuthToken();\n      if (!token) {\n        return {\n          success: false,\n          error: 'Authentication token not found. Please login again.',\n          status: 401\n        };\n      }\n\n      // Create FormData object\n      const data = new FormData();\n      data.append('file', file);\n      data.append('description', description);\n      data.append('reportId', reportId);\n\n      // Prepare headers\n      const headers = {\n        ...getDefaultHeaders()\n        // 'Content-Type': 'multipart/form-data'\n      };\n\n      // Make API request\n      const response = await axios.post(\n        `${API_BASE_URL}/evidences/upload`,\n        data,\n        {\n          headers,\n          timeout: 30000, // 30 seconds timeout for file upload\n          onUploadProgress: (progressEvent) => {\n            // Calculate upload progress percentage\n            const percentCompleted = Math.round(\n              (progressEvent.loaded * 100) / progressEvent.total\n            );\n            console.log(`Upload Progress: ${percentCompleted}%`);\n          }\n        }\n      );\n\n      return {\n        success: true,\n        data: response.data,\n        message: 'Evidence uploaded successfully'\n      };\n\n    } catch (error) {\n      console.error('Error uploading evidence:', error);\n\n      // Handle different types of errors\n      if (error.response) {\n        // Server responded with error status\n        return {\n          success: false,\n          error: error.response.data?.message || 'Failed to upload evidence',\n          status: error.response.status,\n          data: error.response.data\n        };\n      } else if (error.request) {\n        // Request was made but no response received\n        return {\n          success: false,\n          error: 'Network error. Please check your connection.',\n          status: null\n        };\n      } else {\n        // Something else happened\n        return {\n          success: false,\n          error: error.message || 'Unexpected error occurred',\n          status: null\n        };\n      }\n    }\n  }\n\n  /**\n   * Get evidences for a specific report\n   * @param {string} reportId - ID of the report\n   * @returns {Promise} - API response\n   */\n  async getEvidencesByReportId(reportId) {\n    try {\n      // Check if token exists\n      const token = getAuthToken();\n      if (!token) {\n        return {\n          success: false,\n          error: 'Authentication token not found. Please login again.',\n          status: 401\n        };\n      }\n\n      const response = await axios.get(\n        `${API_BASE_URL}/evidences/report/${reportId}`,\n        {\n          headers: getDefaultHeaders(),\n          timeout: 10000\n        }\n      );\n\n      return {\n        success: true,\n        data: response.data,\n        message: 'Evidences retrieved successfully'\n      };\n\n    } catch (error) {\n      console.error('Error fetching evidences:', error);\n      \n      return {\n        success: false,\n        error: error.response?.data?.message || 'Failed to fetch evidences',\n        status: error.response?.status\n      };\n    }\n  }\n\n  /**\n   * Get evidence list for a specific report\n   * @param {string} reportId - ID of the report\n   * @returns {Promise} - API response\n   */\n  async getEvidenceListByReportId(reportId) {\n    try {\n      // Check if token exists\n      const token = getAuthToken();\n      if (!token) {\n        return {\n          success: false,\n          error: 'Authentication token not found. Please login again.',\n          status: 401\n        };\n      }\n\n      const response = await axios.get(\n        `${API_BASE_URL}/evidences/report/${reportId}/list`,\n        {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          timeout: 10000\n        }\n      );\n\n      return {\n        success: true,\n        data: response.data,\n        message: 'Evidence list retrieved successfully'\n      };\n\n    } catch (error) {\n      console.error('Error fetching evidence list:', error);\n      \n      return {\n        success: false,\n        error: error.response?.data?.message || 'Failed to fetch evidence list',\n        status: error.response?.status\n      };\n    }\n  }\n\n  /**\n   * Delete an evidence\n   * @param {string} evidenceId - ID of the evidence to delete\n   * @returns {Promise} - API response\n   */\n  async deleteEvidence(evidenceId) {\n    try {\n      // Check if token exists\n      const token = getAuthToken();\n      if (!token) {\n        return {\n          success: false,\n          error: 'Authentication token not found. Please login again.',\n          status: 401\n        };\n      }\n\n      const response = await axios.delete(\n        `${API_BASE_URL}/evidences/${evidenceId}`,\n        {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          timeout: 10000\n        }\n      );\n\n      return {\n        success: true,\n        data: response.data,\n        message: 'Evidence deleted successfully'\n      };\n\n    } catch (error) {\n      console.error('Error deleting evidence:', error);\n      \n      return {\n        success: false,\n        error: error.response?.data?.message || 'Failed to delete evidence',\n        status: error.response?.status\n      };\n    }\n  }\n\n  /**\n   * View evidence file (for images)\n   * @param {string} evidenceId - ID of the evidence\n   * @returns {Promise} - File blob URL response\n   */\n  async viewEvidence(evidenceId) {\n    try {\n      // Check if token exists\n      const token = getAuthToken();\n      if (!token) {\n        return {\n          success: false,\n          error: 'Authentication token not found. Please login again.',\n          status: 401\n        };\n      }\n\n      const response = await axios.get(\n        `${API_BASE_URL}/evidences/${evidenceId}/view`,\n        {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          responseType: 'blob',\n          timeout: 30000\n        }\n      );\n\n      // Create blob URL for viewing\n      const imageUrl = window.URL.createObjectURL(new Blob([response.data]));\n\n      return {\n        success: true,\n        data: imageUrl,\n        headers: response.headers,\n        message: 'Evidence view URL generated successfully'\n      };\n\n    } catch (error) {\n      console.error('Error viewing evidence:', error);\n      \n      return {\n        success: false,\n        error: error.response?.data?.message || 'Failed to view evidence',\n        status: error.response?.status\n      };\n    }\n  }\n\n  /**\n   * Download evidence file\n   * @param {string} evidenceId - ID of the evidence\n   * @param {string} filename - Original filename for download\n   * @returns {Promise} - File blob response\n   */\n  async downloadEvidence(evidenceId, filename) {\n    try {\n      // Check if token exists\n      const token = getAuthToken();\n      if (!token) {\n        return {\n          success: false,\n          error: 'Authentication token not found. Please login again.',\n          status: 401\n        };\n      }\n\n      const response = await axios.get(\n        `${API_BASE_URL}/evidences/${evidenceId}/download`,\n        {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          responseType: 'blob',\n          timeout: 30000\n        }\n      );\n\n      // Create download link\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', filename || 'evidence-file');\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      window.URL.revokeObjectURL(url);\n\n      return {\n        success: true,\n        data: response.data,\n        headers: response.headers,\n        message: 'Evidence downloaded successfully'\n      };\n\n    } catch (error) {\n      console.error('Error downloading evidence:', error);\n      \n      return {\n        success: false,\n        error: error.response?.data?.message || 'Failed to download evidence',\n        status: error.response?.status\n      };\n    }\n  }\n\n  /**\n   * Get all evidences with pagination\n   * @param {number} page - Page number (default: 0)\n   * @param {number} size - Page size (default: 10) \n   * @param {string} sortBy - Sort field (default: 'createdAt')\n   * @param {string} sortDir - Sort direction (default: 'desc')\n   * @returns {Promise} - API response\n   */\n  async getAllEvidences(page = 0, size = 10, sortBy = 'createdAt', sortDir = 'desc') {\n    try {\n      // Check if token exists\n      const token = getAuthToken();\n      if (!token) {\n        return {\n          success: false,\n          error: 'Authentication token not found. Please login again.',\n          status: 401\n        };\n      }\n\n      const response = await axios.get(\n        `${API_BASE_URL}/evidences`,\n        {\n          params: { page, size, sortBy, sortDir },\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          timeout: 10000\n        }\n      );\n\n      return {\n        success: true,\n        data: response.data,\n        message: 'All evidences retrieved successfully'\n      };\n\n    } catch (error) {\n      console.error('Error fetching all evidences:', error);\n      \n      return {\n        success: false,\n        error: error.response?.data?.message || 'Failed to fetch evidences',\n        status: error.response?.status\n      };\n    }\n  }\n}\n\n// Export a single instance\nexport default new EvidencesService();","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"evidence-container\"},[_c('div',{staticClass:\"evidence-header mb-6\"},[_c('div',{staticClass:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\"},[_c('div',{staticClass:\"flex items-center justify-between\"},[_vm._m(0),_c('div',{staticClass:\"hidden md:block\"},[_c('div',{staticClass:\"w-20 h-20 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center\"},[_c('Icon',{staticClass:\"text-3xl text-white\",attrs:{\"icon\":\"mdi:file-image\"}})],1)])])])]),_c('div',{staticClass:\"stats-grid grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\"},[_c('div',{staticClass:\"stat-card bg-white rounded-xl shadow-sm border border-gray-200 p-6\"},[_c('div',{staticClass:\"flex items-center justify-between\"},[_c('div',[_c('p',{staticClass:\"text-sm font-medium text-gray-600 mb-1\"},[_vm._v(\"Total Evidence\")]),_c('p',{staticClass:\"text-3xl font-bold text-gray-900\"},[_vm._v(_vm._s(_vm.pagination.totalElements || 0))])]),_c('div',{staticClass:\"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center\"},[_c('Icon',{staticClass:\"text-xl text-white\",attrs:{\"icon\":\"mdi:file-multiple\"}})],1)])]),_c('div',{staticClass:\"stat-card bg-white rounded-xl shadow-sm border border-gray-200 p-6\"},[_c('div',{staticClass:\"flex items-center justify-between\"},[_c('div',[_c('p',{staticClass:\"text-sm font-medium text-gray-600 mb-1\"},[_vm._v(\"File Gambar\")]),_c('p',{staticClass:\"text-3xl font-bold text-gray-900\"},[_vm._v(_vm._s(_vm.imageFiles))])]),_c('div',{staticClass:\"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center\"},[_c('Icon',{staticClass:\"text-xl text-white\",attrs:{\"icon\":\"mdi:image\"}})],1)])]),_c('div',{staticClass:\"stat-card bg-white rounded-xl shadow-sm border border-gray-200 p-6\"},[_c('div',{staticClass:\"flex items-center justify-between\"},[_c('div',[_c('p',{staticClass:\"text-sm font-medium text-gray-600 mb-1\"},[_vm._v(\"File Dokumen\")]),_c('p',{staticClass:\"text-3xl font-bold text-gray-900\"},[_vm._v(_vm._s(_vm.documentFiles))])]),_c('div',{staticClass:\"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center\"},[_c('Icon',{staticClass:\"text-xl text-white\",attrs:{\"icon\":\"mdi:file-document\"}})],1)])])]),_c('div',{staticClass:\"filters-section bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6\"},[_c('div',{staticClass:\"flex flex-col lg:flex-row gap-4\"},[_c('div',{staticClass:\"flex-1\"},[_c('el-input',{attrs:{\"placeholder\":\"Cari evidence berdasarkan nama file atau deskripsi...\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},on:{\"input\":_vm.handleSearch},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}})],1),_c('div',{staticClass:\"flex gap-3\"},[_c('el-select',{attrs:{\"placeholder\":\"Tipe File\",\"clearable\":\"\"},on:{\"change\":_vm.handleFilter},model:{value:(_vm.selectedFileType),callback:function ($$v) {_vm.selectedFileType=$$v},expression:\"selectedFileType\"}},[_c('el-option',{attrs:{\"label\":\"Semua File\",\"value\":\"\"}}),_c('el-option',{attrs:{\"label\":\"Gambar\",\"value\":\"image\"}}),_c('el-option',{attrs:{\"label\":\"Dokumen\",\"value\":\"document\"}})],1),_c('el-select',{on:{\"change\":_vm.handleSort},model:{value:(_vm.sortBy),callback:function ($$v) {_vm.sortBy=$$v},expression:\"sortBy\"}},[_c('el-option',{attrs:{\"label\":\"Terbaru\",\"value\":\"createdAt\"}}),_c('el-option',{attrs:{\"label\":\"Nama File\",\"value\":\"fileName\"}}),_c('el-option',{attrs:{\"label\":\"Ukuran File\",\"value\":\"fileSize\"}})],1),_c('el-button',{attrs:{\"loading\":_vm.loading,\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.refreshEvidences}},[_vm._v(\" Refresh \")])],1)])]),_c('div',{staticClass:\"evidence-grid-container bg-white rounded-xl shadow-sm border border-gray-200 p-6\"},[(_vm.loading && _vm.evidences.length === 0)?_c('div',{staticClass:\"loading-state text-center py-12\"},[_c('Icon',{staticClass:\"text-4xl text-gray-400 animate-spin mb-4\",attrs:{\"icon\":\"mdi:loading\"}}),_c('p',{staticClass:\"text-gray-600\"},[_vm._v(\"Memuat evidence...\")])],1):(_vm.evidences.length === 0)?_c('div',{staticClass:\"empty-state text-center py-12\"},[_c('Icon',{staticClass:\"text-6xl text-gray-400 mb-4\",attrs:{\"icon\":\"mdi:file-image-outline\"}}),_c('h3',{staticClass:\"text-lg font-semibold text-gray-900 mb-2\"},[_vm._v(\"Tidak ada evidence\")]),_c('p',{staticClass:\"text-gray-600\"},[_vm._v(\"Belum ada evidence yang diunggah\")])],1):_c('div',{staticClass:\"masonry-grid\",style:(_vm.masonryStyle)},_vm._l((_vm.evidences),function(evidence){return _c('div',{key:evidence.id,staticClass:\"masonry-item\",style:(_vm.getItemStyle(evidence))},[_c('div',{staticClass:\"evidence-card bg-gray-50 rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1\"},[(_vm.isImageFile(evidence.fileName))?_c('div',{staticClass:\"evidence-image relative\"},[_c('img',{staticClass:\"w-full h-48 object-cover\",attrs:{\"src\":evidence.thumbnailUrl || _vm.getImagePlaceholder(),\"alt\":evidence.fileName},on:{\"error\":function($event){return _vm.handleImageError($event, evidence)},\"click\":function($event){return _vm.viewEvidence(evidence)}}}),_c('div',{staticClass:\"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all duration-300 cursor-pointer flex items-center justify-center opacity-0 hover:opacity-100\"},[_c('Icon',{staticClass:\"text-white text-2xl\",attrs:{\"icon\":\"mdi:eye\"}})],1)]):_c('div',{staticClass:\"evidence-file-icon bg-gradient-to-br from-blue-500 to-purple-600 h-48 flex items-center justify-center\"},[_c('Icon',{staticClass:\"text-6xl text-white\",attrs:{\"icon\":_vm.getFileIcon(evidence.fileName)}})],1),_c('div',{staticClass:\"p-4\"},[_c('h3',{staticClass:\"font-semibold text-gray-900 mb-2 truncate\",attrs:{\"title\":evidence.fileName}},[_vm._v(\" \"+_vm._s(evidence.reportId)+\" \")]),_c('div',{staticClass:\"file-info space-y-2 mb-4\"},[_c('div',{staticClass:\"flex items-center text-xs text-gray-500\"},[_c('Icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"mdi:calendar\"}}),_c('span',[_vm._v(_vm._s(_vm.formatDate(evidence.createdAt)))])],1)]),_c('div',{staticClass:\"actions flex gap-2\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.viewEvidence(evidence)}}},[_vm._v(\" Lihat \")])],1)])])])}),0),(!_vm.pagination.last && _vm.evidences.length > 0)?_c('div',{staticClass:\"load-more text-center mt-8\"},[_c('el-button',{attrs:{\"loading\":_vm.loadingMore,\"size\":\"large\",\"type\":\"primary\"},on:{\"click\":_vm.loadMore}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"mdi:chevron-down\"}}),_vm._v(\" Muat Lebih Banyak \")],1)],1):_vm._e()]),_c('el-dialog',{attrs:{\"visible\":_vm.viewerVisible,\"title\":_vm.selectedEvidence?.fileName,\"width\":\"80%\",\"top\":\"20px\"},on:{\"update:visible\":function($event){_vm.viewerVisible=$event},\"close\":_vm.closeViewer}},[(_vm.selectedEvidence)?_c('div',{staticClass:\"evidence-viewer\"},[(_vm.isImageFile(_vm.selectedEvidence.fileName))?_c('div',{staticClass:\"image-viewer text-center\"},[_c('img',{staticClass:\"max-w-full max-h-96 mx-auto rounded-lg shadow-lg\",attrs:{\"src\":_vm.selectedEvidence.viewUrl,\"alt\":_vm.selectedEvidence.fileName}})]):_c('div',{staticClass:\"file-viewer text-center py-12\"},[_c('Icon',{staticClass:\"text-6xl text-gray-400 mb-4\",attrs:{\"icon\":_vm.getFileIcon(_vm.selectedEvidence.fileName)}}),_c('p',{staticClass:\"text-gray-600 mb-4\"},[_vm._v(_vm._s(_vm.selectedEvidence.fileName))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.downloadEvidence(_vm.selectedEvidence)}}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"mdi:download\"}}),_vm._v(\" Download File \")],1)],1),_c('div',{staticClass:\"evidence-details mt-6 bg-gray-50 rounded-lg p-4\"},[_c('h4',{staticClass:\"font-semibold text-gray-900 mb-3\"},[_vm._v(\"Detail Evidence\")]),_c('div',{staticClass:\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\"},[_c('div',[_c('span',{staticClass:\"font-medium text-gray-700\"},[_vm._v(\"Nama File:\")]),_c('span',{staticClass:\"text-gray-600 ml-2\"},[_vm._v(_vm._s(_vm.selectedEvidence.fileName))])]),_c('div',[_c('span',{staticClass:\"font-medium text-gray-700\"},[_vm._v(\"Ukuran:\")]),_c('span',{staticClass:\"text-gray-600 ml-2\"},[_vm._v(_vm._s(_vm.formatFileSize(_vm.selectedEvidence.fileSize)))])]),_c('div',[_c('span',{staticClass:\"font-medium text-gray-700\"},[_vm._v(\"Diunggah:\")]),_c('span',{staticClass:\"text-gray-600 ml-2\"},[_vm._v(_vm._s(_vm.formatDate(_vm.selectedEvidence.createdAt)))])]),(_vm.selectedEvidence.reportId)?_c('div',[_c('span',{staticClass:\"font-medium text-gray-700\"},[_vm._v(\"Report ID:\")]),_c('span',{staticClass:\"text-gray-600 ml-2\"},[_vm._v(\"#\"+_vm._s(_vm.selectedEvidence.reportId))])]):_vm._e()]),(_vm.selectedEvidence.description)?_c('div',{staticClass:\"mt-3\"},[_c('span',{staticClass:\"font-medium text-gray-700\"},[_vm._v(\"Deskripsi:\")]),_c('p',{staticClass:\"text-gray-600 mt-1\"},[_vm._v(_vm._s(_vm.selectedEvidence.description))])]):_vm._e()])]):_vm._e()])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',{staticClass:\"text-2xl font-bold text-gray-900 mb-2\"},[_vm._v(\"Evidence\")]),_c('p',{staticClass:\"text-gray-600\"},[_vm._v(\"Daftar semua evidence yang telah diunggah\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"evidence-container\">\n    <!-- Header -->\n    <div class=\"evidence-header mb-6\">\n      <div class=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <h1 class=\"text-2xl font-bold text-gray-900 mb-2\">Evidence</h1>\n            <p class=\"text-gray-600\">Daftar semua evidence yang telah diunggah</p>\n          </div>\n          <div class=\"hidden md:block\">\n            <div class=\"w-20 h-20 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center\">\n              <Icon icon=\"mdi:file-image\" class=\"text-3xl text-white\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Stats -->\n    <div class=\"stats-grid grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n      <div class=\"stat-card bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600 mb-1\">Total Evidence</p>\n            <p class=\"text-3xl font-bold text-gray-900\">{{ pagination.totalElements || 0 }}</p>\n          </div>\n          <div class=\"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center\">\n            <Icon icon=\"mdi:file-multiple\" class=\"text-xl text-white\" />\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"stat-card bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600 mb-1\">File Gambar</p>\n            <p class=\"text-3xl font-bold text-gray-900\">{{ imageFiles }}</p>\n          </div>\n          <div class=\"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center\">\n            <Icon icon=\"mdi:image\" class=\"text-xl text-white\" />\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"stat-card bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <p class=\"text-sm font-medium text-gray-600 mb-1\">File Dokumen</p>\n            <p class=\"text-3xl font-bold text-gray-900\">{{ documentFiles }}</p>\n          </div>\n          <div class=\"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center\">\n            <Icon icon=\"mdi:file-document\" class=\"text-xl text-white\" />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Filters and Search -->\n    <div class=\"filters-section bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6\">\n      <div class=\"flex flex-col lg:flex-row gap-4\">\n        <div class=\"flex-1\">\n          <el-input\n            v-model=\"searchQuery\"\n            placeholder=\"Cari evidence berdasarkan nama file atau deskripsi...\"\n            prefix-icon=\"el-icon-search\"\n            @input=\"handleSearch\"\n            clearable\n          />\n        </div>\n        <div class=\"flex gap-3\">\n          <el-select v-model=\"selectedFileType\" placeholder=\"Tipe File\" clearable @change=\"handleFilter\">\n            <el-option label=\"Semua File\" value=\"\" />\n            <el-option label=\"Gambar\" value=\"image\" />\n            <el-option label=\"Dokumen\" value=\"document\" />\n          </el-select>\n          <el-select v-model=\"sortBy\" @change=\"handleSort\">\n            <el-option label=\"Terbaru\" value=\"createdAt\" />\n            <el-option label=\"Nama File\" value=\"fileName\" />\n            <el-option label=\"Ukuran File\" value=\"fileSize\" />\n          </el-select>\n          <el-button @click=\"refreshEvidences\" :loading=\"loading\" icon=\"el-icon-refresh\">\n            Refresh\n          </el-button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Evidence Grid (Masonry Layout) -->\n    <div class=\"evidence-grid-container bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n      <div v-if=\"loading && evidences.length === 0\" class=\"loading-state text-center py-12\">\n        <Icon icon=\"mdi:loading\" class=\"text-4xl text-gray-400 animate-spin mb-4\" />\n        <p class=\"text-gray-600\">Memuat evidence...</p>\n      </div>\n\n      <div v-else-if=\"evidences.length === 0\" class=\"empty-state text-center py-12\">\n        <Icon icon=\"mdi:file-image-outline\" class=\"text-6xl text-gray-400 mb-4\" />\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">Tidak ada evidence</h3>\n        <p class=\"text-gray-600\">Belum ada evidence yang diunggah</p>\n      </div>\n\n      <div v-else class=\"masonry-grid\" :style=\"masonryStyle\">\n        <div\n          v-for=\"evidence in evidences\"\n          :key=\"evidence.id\"\n          class=\"masonry-item\"\n          :style=\"getItemStyle(evidence)\"\n        >\n          <div class=\"evidence-card bg-gray-50 rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1\">\n            <!-- Image Preview -->\n            <div v-if=\"isImageFile(evidence.fileName)\" class=\"evidence-image relative\">\n              <img\n                :src=\"evidence.thumbnailUrl || getImagePlaceholder()\"\n                :alt=\"evidence.fileName\"\n                class=\"w-full h-48 object-cover\"\n                @error=\"handleImageError($event, evidence)\"\n                @click=\"viewEvidence(evidence)\"\n              />\n              <div class=\"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all duration-300 cursor-pointer flex items-center justify-center opacity-0 hover:opacity-100\">\n                <Icon icon=\"mdi:eye\" class=\"text-white text-2xl\" />\n              </div>\n            </div>\n\n            <!-- File Icon for Non-Images -->\n            <div v-else class=\"evidence-file-icon bg-gradient-to-br from-blue-500 to-purple-600 h-48 flex items-center justify-center\">\n              <Icon :icon=\"getFileIcon(evidence.fileName)\" class=\"text-6xl text-white\" />\n            </div>\n\n            <!-- Card Content -->\n            <div class=\"p-4\">\n              <!-- File Name -->\n              <h3 class=\"font-semibold text-gray-900 mb-2 truncate\" :title=\"evidence.fileName\">\n                {{ evidence.reportId }}\n              </h3>\n\n              <!-- Description -->\n              <!-- <p v-if=\"evidence.description\" class=\"text-sm text-gray-600 mb-3 line-clamp-2\">\n                {{ evidence.description }}\n              </p> -->\n\n              <!-- File Info -->\n              <div class=\"file-info space-y-2 mb-4\">\n                <!-- <div class=\"flex items-center text-xs text-gray-500\">\n                  <Icon icon=\"mdi:file\" class=\"mr-1\" />\n                  <span>{{ formatFileSize(evidence.fileSize) }}</span>\n                </div> -->\n                <div class=\"flex items-center text-xs text-gray-500\">\n                  <Icon icon=\"mdi:calendar\" class=\"mr-1\" />\n                  <span>{{ formatDate(evidence.createdAt) }}</span>\n                </div>\n                <!-- <div v-if=\"evidence.reportId\" class=\"flex items-center text-xs text-gray-500\">\n                  <Icon icon=\"mdi:link\" class=\"mr-1\" />\n                  <span>Report #{{ evidence.reportId }}</span>\n                </div> -->\n              </div>\n\n              <!-- Actions -->\n              <div class=\"actions flex gap-2\">\n                <el-button\n                  size=\"small\"\n                  type=\"primary\"\n                  @click=\"viewEvidence(evidence)\"\n                  icon=\"el-icon-view\"\n                >\n                  Lihat\n                </el-button>\n                <!-- <el-button\n                  size=\"small\"\n                  @click=\"downloadEvidence(evidence)\"\n                  icon=\"el-icon-download\"\n                >\n                  Download\n                </el-button> -->\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Load More Button -->\n      <div v-if=\"!pagination.last && evidences.length > 0\" class=\"load-more text-center mt-8\">\n        <el-button\n          @click=\"loadMore\"\n          :loading=\"loadingMore\"\n          size=\"large\"\n          type=\"primary\"\n        >\n          <Icon icon=\"mdi:chevron-down\" class=\"mr-2\" />\n          Muat Lebih Banyak\n        </el-button>\n      </div>\n    </div>\n\n    <!-- Evidence Viewer Modal -->\n    <el-dialog\n      :visible.sync=\"viewerVisible\"\n      :title=\"selectedEvidence?.fileName\"\n      width=\"80%\"\n      @close=\"closeViewer\"\n      top=\"20px\"\n    >\n      <div v-if=\"selectedEvidence\" class=\"evidence-viewer\">\n        <div v-if=\"isImageFile(selectedEvidence.fileName)\" class=\"image-viewer text-center\">\n          <img\n            :src=\"selectedEvidence.viewUrl\"\n            :alt=\"selectedEvidence.fileName\"\n            class=\"max-w-full max-h-96 mx-auto rounded-lg shadow-lg\"\n          />\n        </div>\n        <div v-else class=\"file-viewer text-center py-12\">\n          <Icon :icon=\"getFileIcon(selectedEvidence.fileName)\" class=\"text-6xl text-gray-400 mb-4\" />\n          <p class=\"text-gray-600 mb-4\">{{ selectedEvidence.fileName }}</p>\n          <el-button @click=\"downloadEvidence(selectedEvidence)\" type=\"primary\">\n            <Icon icon=\"mdi:download\" class=\"mr-2\" />\n            Download File\n          </el-button>\n        </div>\n        \n        <!-- Evidence Details -->\n        <div class=\"evidence-details mt-6 bg-gray-50 rounded-lg p-4\">\n          <h4 class=\"font-semibold text-gray-900 mb-3\">Detail Evidence</h4>\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n            <div>\n              <span class=\"font-medium text-gray-700\">Nama File:</span>\n              <span class=\"text-gray-600 ml-2\">{{ selectedEvidence.fileName }}</span>\n            </div>\n            <div>\n              <span class=\"font-medium text-gray-700\">Ukuran:</span>\n              <span class=\"text-gray-600 ml-2\">{{ formatFileSize(selectedEvidence.fileSize) }}</span>\n            </div>\n            <div>\n              <span class=\"font-medium text-gray-700\">Diunggah:</span>\n              <span class=\"text-gray-600 ml-2\">{{ formatDate(selectedEvidence.createdAt) }}</span>\n            </div>\n            <div v-if=\"selectedEvidence.reportId\">\n              <span class=\"font-medium text-gray-700\">Report ID:</span>\n              <span class=\"text-gray-600 ml-2\">#{{ selectedEvidence.reportId }}</span>\n            </div>\n          </div>\n          <div v-if=\"selectedEvidence.description\" class=\"mt-3\">\n            <span class=\"font-medium text-gray-700\">Deskripsi:</span>\n            <p class=\"text-gray-600 mt-1\">{{ selectedEvidence.description }}</p>\n          </div>\n        </div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { Icon } from \"@iconify/vue2\";\nimport evidencesService from '@/services/evidencesService';\n\nexport default {\n  name: 'Evidence',\n  components: {\n    Icon\n  },\n  data() {\n    return {\n      loading: false,\n      loadingMore: false,\n      evidences: [],\n      pagination: {\n        page: 0,\n        size: 10,\n        totalElements: 0,\n        totalPages: 0,\n        last: true,\n        first: true\n      },\n      searchQuery: '',\n      selectedFileType: '',\n      sortBy: 'createdAt',\n      sortDir: 'desc',\n      \n      // Viewer\n      viewerVisible: false,\n      selectedEvidence: null,\n      \n      // Masonry layout\n      columns: 3,\n      gutter: 24\n    }\n  },\n  computed: {\n    imageFiles() {\n      if (!Array.isArray(this.evidences)) return 0;\n      return this.evidences.filter(evidence => \n        evidence && evidence.fileName && this.isImageFile(evidence.fileName)\n      ).length;\n    },\n    \n    documentFiles() {\n      if (!Array.isArray(this.evidences)) return 0;\n      return this.evidences.filter(evidence => \n        evidence && evidence.fileName && !this.isImageFile(evidence.fileName)\n      ).length;\n    },\n    \n    masonryStyle() {\n      return {\n        columnCount: this.columns,\n        columnGap: `${this.gutter}px`,\n        columnFill: 'balance'\n      };\n    }\n  },\n  methods: {\n    async fetchEvidences(reset = false) {\n      if (reset) {\n        this.loading = true;\n        this.evidences = [];\n        this.pagination.page = 0;\n      } else {\n        this.loadingMore = true;\n      }\n\n      try {\n        const response = await evidencesService.getAllEvidences(\n          this.pagination.page,\n          this.pagination.size,\n          this.sortBy,\n          this.sortDir\n        );\n\n        console.log(response);\n        \n        if (response.success && response.data.success) {\n          const newEvidences = response.data.data.content || [];\n          \n          // Validate evidence data structure\n          const validEvidences = newEvidences.filter(evidence => \n            evidence && typeof evidence === 'object' && evidence.id\n          ).map(evidence => ({\n            ...evidence,\n            fileName: evidence.filename || 'Unknown File',\n            fileSize: evidence.sizeFile || 0,\n            description: evidence.description || '',\n            createdAt: evidence.createdAt || new Date().toISOString()\n          }));\n          \n          if (reset) {\n            this.evidences = validEvidences;\n          } else {\n            this.evidences.push(...validEvidences);\n          }\n          \n          this.pagination = {\n            page: response.data.data.page || 0,\n            size: response.data.data.size || 10,\n            totalElements: response.data.data.totalElements || 0,\n            totalPages: response.data.data.totalPages || 0,\n            last: response.data.data.last !== false,\n            first: response.data.data.first !== false\n          };\n\n          // Load thumbnails for images\n          this.loadThumbnails(validEvidences);\n        }\n      } catch (error) {\n        console.error('Error fetching evidences:', error);\n        this.$message.error('Gagal memuat data evidence');\n      } finally {\n        this.loading = false;\n        this.loadingMore = false;\n      }\n    },\n\n    async loadThumbnails(evidences) {\n      for (const evidence of evidences) {\n        if (this.isImageFile(evidence.fileName)) {\n          try {\n            const response = await evidencesService.viewEvidence(evidence.id);\n            if (response.success) {\n              this.$set(evidence, 'thumbnailUrl', response.data);\n            }\n          } catch (error) {\n            console.error('Error loading thumbnail:', error);\n            // Set fallback placeholder if viewEvidence fails\n            this.$set(evidence, 'thumbnailUrl', this.getImagePlaceholder());\n          }\n        }\n      }\n    },\n\n    async loadMore() {\n      this.pagination.page += 1;\n      await this.fetchEvidences(false);\n    },\n\n    async refreshEvidences() {\n      await this.fetchEvidences(true);\n    },\n\n    handleSearch() {\n      // Implement search functionality if needed\n      // For now, just refresh\n      this.refreshEvidences();\n    },\n\n    handleFilter() {\n      // Implement filter functionality if needed\n      this.refreshEvidences();\n    },\n\n    handleSort() {\n      this.refreshEvidences();\n    },\n\n    async viewEvidence(evidence) {\n      this.selectedEvidence = evidence;\n      \n      if (this.isImageFile(evidence.fileName) && !evidence.viewUrl) {\n        try {\n          const response = await evidencesService.viewEvidence(evidence.id);\n          if (response.success) {\n            this.$set(evidence, 'viewUrl', response.data);\n          }\n        } catch (error) {\n          console.error('Error loading evidence:', error);\n          this.$message.error('Gagal memuat evidence');\n          return;\n        }\n      }\n      \n      this.viewerVisible = true;\n    },\n\n    async downloadEvidence(evidence) {\n      try {\n        await evidencesService.downloadEvidence(evidence.id, evidence.fileName);\n        this.$message.success('File berhasil didownload');\n      } catch (error) {\n        console.error('Error downloading evidence:', error);\n        this.$message.error('Gagal mendownload file');\n      }\n    },\n\n    closeViewer() {\n      this.viewerVisible = false;\n      this.selectedEvidence = null;\n    },\n\n    isImageFile(fileName) {\n      if (!fileName || typeof fileName !== 'string') return false;\n      const imageExtensions = ['.jpg', '.jpeg', '.png', '.gif', '.bmp', '.webp'];\n      return imageExtensions.some(ext => \n        fileName.toLowerCase().endsWith(ext)\n      );\n    },\n\n    getFileIcon(fileName) {\n      if (!fileName || typeof fileName !== 'string') return 'mdi:file';\n      const extension = fileName.toLowerCase().split('.').pop();\n      const iconMap = {\n        pdf: 'mdi:file-pdf',\n        doc: 'mdi:file-word',\n        docx: 'mdi:file-word',\n        xls: 'mdi:file-excel',\n        xlsx: 'mdi:file-excel',\n        ppt: 'mdi:file-powerpoint',\n        pptx: 'mdi:file-powerpoint',\n        txt: 'mdi:file-document-outline',\n        zip: 'mdi:zip-box',\n        rar: 'mdi:zip-box'\n      };\n      return iconMap[extension] || 'mdi:file';\n    },\n\n    formatFileSize(bytes) {\n      if (!bytes || typeof bytes !== 'number') return '0 B';\n      const k = 1024;\n      const sizes = ['B', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    },\n\n    formatDate(dateString) {\n      if (!dateString) return '-';\n      const date = new Date(dateString);\n      return date.toLocaleDateString('id-ID', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n\n    getItemStyle(evidence) {\n      return {\n        marginBottom: `${this.gutter}px`,\n        breakInside: 'avoid',\n        display: 'inline-block',\n        width: '100%'\n      };\n    },\n\n    getImagePlaceholder() {\n      // Return a simple placeholder URL\n      return 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNGM0Y0RjYiLz48cGF0aCBkPSJNMTI1IDc1TDE3NSAxMjVIMTAwTDEyNSA3NVoiIGZpbGw9IiM5Q0EzQUYiLz48Y2lyY2xlIGN4PSIxMjUiIGN5PSI3NSIgcj0iMTAiIGZpbGw9IiM5Q0EzQUYiLz48L3N2Zz4=';\n    },\n\n    handleImageError(event, evidence) {\n      event.target.src = this.getImagePlaceholder();\n    },\n\n    updateColumnCount() {\n      const width = window.innerWidth;\n      if (width >= 1280) {\n        this.columns = 4;\n      } else if (width >= 1024) {\n        this.columns = 3;\n      } else if (width >= 768) {\n        this.columns = 2;\n      } else {\n        this.columns = 1;\n      }\n    }\n  },\n\n  mounted() {\n    this.fetchEvidences(true);\n    this.updateColumnCount();\n    window.addEventListener('resize', this.updateColumnCount);\n  },\n\n  beforeDestroy() {\n    window.removeEventListener('resize', this.updateColumnCount);\n  }\n}\n</script>\n\n<style scoped>\n.evidence-container {\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.stat-card {\n  transition: all 0.2s ease;\n}\n\n.stat-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n\n.masonry-grid {\n  column-fill: balance;\n}\n\n.masonry-item {\n  break-inside: avoid;\n  display: inline-block;\n  width: 100%;\n}\n\n.evidence-card {\n  transition: all 0.3s ease;\n}\n\n.evidence-card:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n}\n\n.evidence-image {\n  cursor: pointer;\n}\n\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  .evidence-container {\n    padding: 0 1rem;\n  }\n  \n  .masonry-grid {\n    column-count: 1 !important;\n  }\n  \n  .stats-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .filters-section .flex {\n    flex-direction: column;\n  }\n}\n\n@media (max-width: 480px) {\n  .evidence-header h1 {\n    font-size: 1.5rem;\n  }\n  \n  .stat-card {\n    padding: 1rem;\n  }\n  \n  .evidence-card {\n    margin-bottom: 1rem;\n  }\n}\n\n/* Animation for loading */\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* Custom scrollbar */\n.evidence-grid-container {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(156, 163, 175, 0.5) transparent;\n}\n\n.evidence-grid-container::-webkit-scrollbar {\n  width: 6px;\n}\n\n.evidence-grid-container::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.evidence-grid-container::-webkit-scrollbar-thumb {\n  background: rgba(156, 163, 175, 0.5);\n  border-radius: 3px;\n}\n\n.evidence-grid-container::-webkit-scrollbar-thumb:hover {\n  background: rgba(156, 163, 175, 0.7);\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Evidence.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Evidence.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Evidence.vue?vue&type=template&id=62f6073a&scoped=true\"\nimport script from \"./Evidence.vue?vue&type=script&lang=js\"\nexport * from \"./Evidence.vue?vue&type=script&lang=js\"\nimport style0 from \"./Evidence.vue?vue&type=style&index=0&id=62f6073a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62f6073a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["API_BASE_URL","getAuthToken","localStorage","getItem","sessionStorage","getDefaultHeaders","token","headers","EvidencesService","uploadEvidence","file","description","reportId","success","error","status","data","FormData","append","response","axios","post","timeout","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","console","log","message","request","getEvidencesByReportId","get","getEvidenceListByReportId","deleteEvidence","evidenceId","delete","viewEvidence","responseType","imageUrl","window","URL","createObjectURL","Blob","downloadEvidence","filename","url","link","document","createElement","href","setAttribute","body","appendChild","click","remove","revokeObjectURL","getAllEvidences","page","size","sortBy","sortDir","params","render","_vm","this","_c","_self","staticClass","_m","attrs","_v","_s","pagination","totalElements","imageFiles","documentFiles","on","handleSearch","model","value","searchQuery","callback","$$v","expression","handleFilter","selectedFileType","handleSort","loading","refreshEvidences","evidences","length","style","masonryStyle","_l","evidence","key","id","getItemStyle","isImageFile","fileName","thumbnailUrl","getImagePlaceholder","$event","handleImageError","getFileIcon","formatDate","createdAt","last","loadingMore","loadMore","_e","viewerVisible","selectedEvidence","closeViewer","viewUrl","formatFileSize","fileSize","staticRenderFns","name","components","Icon","totalPages","first","columns","gutter","computed","Array","isArray","filter","columnCount","columnGap","columnFill","methods","fetchEvidences","reset","evidencesService","newEvidences","content","validEvidences","map","sizeFile","Date","toISOString","push","loadThumbnails","$message","$set","imageExtensions","some","ext","toLowerCase","endsWith","extension","split","pop","iconMap","pdf","doc","docx","xls","xlsx","ppt","pptx","txt","zip","rar","bytes","k","sizes","i","floor","parseFloat","pow","toFixed","dateString","date","toLocaleDateString","year","month","day","hour","minute","marginBottom","breakInside","display","width","event","target","src","updateColumnCount","innerWidth","mounted","addEventListener","beforeDestroy","removeEventListener","component"],"sourceRoot":""}